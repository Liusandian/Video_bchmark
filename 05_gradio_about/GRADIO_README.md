# WAN 图像到视频生成器 - Gradio Web 界面

基于 DiffSynth-Engine 的 WAN 模型，提供图像到视频转换的 Web 界面。

## 🚀 快速开始

### 1. 安装依赖

首先确保已安装 DiffSynth-Engine 的所有依赖，然后安装 Gradio：

```bash
pip install gradio
```

### 2. 运行应用

有两种方式启动应用：

**方式一（推荐）：使用启动脚本**
```bash
python run_gradio_app.py
```

**方式二：直接运行 Gradio 应用**
```bash
python examples/wan_image_to_video_gradio.py
```

### 3. 访问界面

启动后，在浏览器中访问：`http://localhost:7860`

## 📋 功能特性

- 🖼️ **图像上传**：支持 JPG、PNG 等常见格式
- ✍️ **提示词输入**：详细描述想要的视频内容
- ⚙️ **参数调节**：
  - 视频帧数（25-121帧）
  - 分辨率（256x256 到 768x768）
  - 随机种子控制
  - 负面提示词
- 📹 **在线生成**：实时显示生成进度
- 💾 **视频下载**：生成完成后可直接下载

## 🎯 使用指南

### 步骤1：上传图像
- 点击"上传图像"区域，选择你的输入图像
- 支持拖拽上传
- 建议使用清晰、主体明确的图像

### 步骤2：设置提示词
- **提示词**：详细描述你希望视频中发生的动作和场景
- **负面提示词**：描述不想要的内容（如模糊、低质量等）

### 步骤3：调整参数
- **视频帧数**：更多帧数 = 更长视频，但生成时间更久
- **尺寸**：建议使用 480x480 或类似比例
- **随机种子**：固定种子可以获得可重复的结果

### 步骤4：生成视频
- 点击"🎬 生成视频"按钮
- 等待模型初始化和视频生成
- 生成完成后，视频将显示在右侧

## 💡 使用技巧

### 提示词建议
- 描述要清晰具体，包含动作、场景、风格等信息
- 可以参考原始示例：`"Summer beach vacation style, a white cat wearing sunglasses sits on a surfboard..."`
- 使用英文提示词通常效果更好

### 参数优化
- **帧数**：初次使用建议 41-81 帧，平衡质量和速度
- **分辨率**：480x480 是推荐的起始分辨率
- **种子**：尝试不同的种子值获得多样化结果

### 性能优化
- 首次运行需要下载模型，请耐心等待
- GPU 环境下运行速度更快
- 生成过程中避免同时运行其他显存占用大的程序

## 🔧 系统要求

- **GPU**：推荐使用 NVIDIA GPU（8GB+ 显存）
- **内存**：推荐 16GB+ 系统内存
- **存储**：首次运行需要下载约 20GB+ 的模型文件
- **Python**：Python 3.8+

## 📁 文件说明

- `examples/wan_image_to_video_gradio.py`：主要的 Gradio 应用文件
- `run_gradio_app.py`：启动脚本
- `examples/wan_image_to_video.py`：原始的命令行版本

## 🐛 故障排除

### 常见问题

**1. 提示 "未安装 Gradio"**
```bash
pip install gradio
```

**2. CUDA 内存不足**
- 降低分辨率或帧数
- 关闭其他占用显存的程序
- 考虑使用 CPU 模式（会很慢）

**3. 模型下载失败**
- 检查网络连接
- 可能需要配置代理或使用镜像源

**4. 生成速度很慢**
- 确认是否正确使用了 GPU
- 减少帧数和分辨率
- 检查系统资源使用情况

### 获取帮助

如果遇到问题，请：
1. 检查控制台输出的错误信息
2. 确认环境配置是否正确
3. 参考原项目的文档和问题页面

## 📄 许可证

遵循 DiffSynth-Engine 项目的许可证要求。 